@if (currentQuestion$ | async; as question) {
  <div class="wrapper">
    <h2>§11 Tester</h2>
    <span>Bisher hast du <span class="learned-amount {{getLearnedQuestionsColor()}}">{{getLearnedQuestionsAmount()}} von {{questions.length}} Fragen</span> gelernt <br>
      <span style="color: #888; font-size: 14px;" >(Frage gilt als gelernt, wenn sie die letzten 3 male richtig beantwortet wurde)</span></span>
    <br><br>
    <div class="prompt">
      <b>{{ question.prompt }}</b><br><br>
      <div class="answers">
        @for (answer of question.answers; track $index) {
          <div class="option-wrapper" [class]="getAnswerState($index)">
            <div class="answer-wrapper">
              <input [disabled]="hasSubmitted" type="checkbox" id="answer-{{$index}}" name="scales" [checked]="checkedAnswers.has($index)" (change)="checkAnswer($event, $index)"/>
              <label for="answer-{{$index}}">{{ displayAnswer(answer) }}</label>
            </div>
            <span class="show-correct">wäre richtig gewesen</span>
          </div>
        }
      </div>
      @if (!hasSubmitted) {
        <span></span><br>
        <button (click)="submit()">Abgeben</button>
      }

      @if (hasSubmitted) {
        @let streak = getPointsForCurrentQuestion();
        <span class="previous-points">
        @if(streak > 0) {
          Diese Frage hast du nun {{streak}} mal hintereinander richtig beantwortet
        }
          </span><br>
        <button (click)="nextRandomQuestion()">Nächste Frage ›</button>
      }
    </div>

  </div>
}
